---
title: "p8105_hw5_cac2225"
author: "Courtney Chan"
date: "November 7, 2018"
output: github_document
---

#Homework 5

##Problem 0
A github repo and local R project was created, an Rmd file was produced, knitted, and committed to github.

##Problem 1

First loading all necessary packages

```{r loading necessary packages}
library(tidyverse)
library(rvest)
library(dplyr)
library(readr)
library(stringr)

```

Using list.files function to list all of the file names within the data folder and creating a dataframe for the file names. The map function and read_csv function are used to map the contents of each csv file onto the file name dataframe.

```{r naming data folder and vector for filenames}

data_folder = "./data"

file_names = list.files(data_folder)

```

```{r defining reading_csv function}

reading_csv = function(x) {
  
  place_holder = read_csv(file.path(data_folder,x))
}
```

```{r creating df for file_names and mapping csv values}

df_files = data_frame(file_names = file_names) %>% 
mutate(actual_files = map(file_names, reading_csv))

```

The values within the lists are unnested into the dataframe. The dataframe is then tidied by gathering the values into a "week" variable and assigning corresponding observation values.

```{r tidying file_name dataframe}

df_files = unnest(df_files) %>% 
  gather(key = week, value = obs_value, week_1:week_8) %>% 
    separate(week, into = c("remove", "week"), sep = "_") %>% 
  rename(treatment_id = file_names) %>%
  mutate(treatment_id = str_replace(treatment_id, ".csv", "")) %>% separate(treatment_id, into = c("treatment", "subj_id"), sep = "_") %>% select(subj_id, treatment, week, obs_value, -starts_with("remove"))

```

```{r spaghetti plot}

```


##Problem 2